<html>
    <head>
        <title>Social Flask Demo</title>
    </head>
    <body>
        <h1>OAuth Demo</h1>
        {% for message in get_flashed_messages() %}
            <p>{{ message }}</p>
        {% endfor %}
        {% if current_user.is_authenticated %}
            <h2>Hi, {{ current_user.username }}!</h2>
            <p><a href="{{ url_for('logout') }}">Logout</a></p>
        {% else %}


<!-- ----------------- sign up form ------------------------ -->        
              <form action="/register" method=post class="form-horizontal">
                <h2>Sign up: </h2>
                <div class="control-group">
                    <div class="controls">
                      <input type="text" id="username" name="username" class="input-xlarge"
                        placeholder="Enter Username" value="{{ request.form.username }}"
                        required>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                      <input type="password" id="password" name="password" class="input-xlarge"
                        placeholder="Enter Password" value="{{ request.form.password }}"
                        required>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                      <input type="email" id="email" name="email" class="input-xlarge"
                        placeholder="Enter Email" value="{{ request.form.username }}"
                        required>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                      <button type="submit" class="btn btn-success">Signup</button>
                    </div>
                </div>
              </form>


<!-- ----------------- login form ------------------------ -->
              <form action="/login" method=post class="form-horizontal">
                <h2>Login </h2>
                <div class="control-group">
                    <div class="controls">
                      <input type="text" id="username" name="username" class="input-xlarge"
                        placeholder="Enter Username" required>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                      <input type="password" id="password" name="password" class="input-xlarge"
                        placeholder="Enter Password" required>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                      <button type="submit" class="btn btn-success">Signin</button>
                    </div>
                </div>
              </form>


<!-- ----------------- social links ------------------------ -->
            <p><a href="{{ url_for('oauth_authorize', provider='facebook') }}">Login with Facebook</a></p>
            <p><a href="{{ url_for('oauth_authorize', provider='twitter') }}">Login with Twitter</a></p>
            <p><a href="{{ url_for('oauth_authorize', provider='github') }}">Login with Github</a></p>
            <p><a href="{{ url_for('oauth_authorize', provider='google') }}">Login with Google</a></p>
        {% endif %}
    </body>
</html>
